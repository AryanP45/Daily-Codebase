# [1838. Frequency of the Most Frequent Element](https://leetcode.com/problems/frequency-of-the-most-frequent-element/)
> Version 1
```java
 class Solution {
    public int maxFrequency(int[] nums, int k) {
        int ans = 0;
        long total = 0;
        Arrays.sort(nums);
        for (int r = 0, l=0; r < nums.length; ++r) {
            total += nums[r];

            // shrink while window is invalid
            while ((long)nums[r] * (r - l + 1) > total + k) {
                total -= nums[l];
                l++;
            }

            ans = Math.max(ans, r - l + 1);
        }

        return ans;
    }
}
```

> Version 2 (Alternate approach/Optimized)